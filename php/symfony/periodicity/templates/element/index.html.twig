{% extends 'base.html.twig' %}

{% block title %}Periodicity: Element{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>Elements</h1>
    {# This friendly message is coming from:
    <ul>
        <li>Your controller at <code><a href="{{ '/srv/www/periodicity/php/symfony/periodicity/src/Controller/ElementController.php'|file_link(0) }}">src/Controller/ElementController.php</a></code></li>
        <li>Your template at <code><a href="{{ '/srv/www/periodicity/php/symfony/periodicity/templates/element/index.html.twig'|file_link(0) }}">templates/element/index.html.twig</a></code></li>
    </ul> #}
</div>

<div>
    {% set offset = 0 %}
    {% set square = 100 %}
    {% set squareSize = [square,"px"]|join %}
    {% set tableSize = [(square * 18) - 12,"px"]|join %}
    {% set tableHeight = [(square * 7) + 13,"px"]|join %}
    <div style="min-width={{tableSize}}; width={{tableSize}}; height:{{tableHeight}}; border: 1px solid black;padding:0;margin:0;">
    {% for node in allNodes if node.containsKey('Group') %}

        {% set nodeGroup = node.get('Group') %}
        {% set offset = offset + 1 %}

        {% if 18 == nodeGroup %}
            {% set clear = "both" %}
        {% else %}
            {% set clear = "none" %}
        {% endif %}

        {% if offset != nodeGroup %}
            {% set limit = nodeGroup - 1 %}
            {% for i in offset..limit %}
                {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            {% endfor %}

        {% endif %}
        {% set offset = nodeGroup %}
        {% include '/element/themes/theme_element.html.twig' with {"node": node, "squareSize": squareSize} %}

        {% if clear == "both" %}
            <div style="display:inline-block;float:none;clear:both;margin:none;width:0;height:0;"></div>
        {% endif %}

        {% if 18 == offset %}
            {% set offset = 0 %}
        {% endif %}

    {% endfor %}
    </div>
    <br><br>
    {% set tableHeight = [(square * 2) + 3,"px"]|join %}
    <div style="min-width={{tableSize}}; width={{tableSize}}; height:{{tableHeight}}; border: none;">
    {% for i in 1..3 %}
        {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
    {% endfor %}
    {% for node in allNodes if not node.containsKey('Group') %}
        {% set name = node.get('Element') %}
        {% include '/element/themes/theme_element.html.twig' with {"node": node, "squareSize": squareSize} %}
        {% if name == 'Lutetium' %}
            {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            <div style="display:inline-block;float:none;clear:both;margin:none;"></div>
            {% for i in 1..3 %}
                {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            {% endfor %}
        {% endif %}
    {% endfor %}
    </div>
</div>
{% endblock %}
