{% extends 'base.html.twig' %}

{% block title %}Periodicity: Element{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>



{% set offset = 0 %}
    {% set square = 100 %}
    {% set squareSize = [square,"px"]|join %}
    {% set tableWidth = [(square * 18) + 38,"px"]|join %}
    {% set tableHeight = [(square * 7) + 13,"px"]|join %}

<div style="width:{{tableWidth}}; margin:0 auto; position:relative; top:-100px;">
    <div class="example-wrapper" style="position:relative; left: -165px; top: 150px;">
        <h1 style="font-size:48px;">Periodic Table of Elements</h1>
    </div>
    
    <div style="min-width={{tableWidth}}; max-width={{tableWidth}}; width={{tableWidth}}; height:{{tableHeight}}; border: none; padding:0; margin:0;">
    {% for node in allNodes if node.containsKey('Group') %}

        {% set nodeGroup = node.get('Group') %}
        {% set offset = offset + 1 %}

        {% if offset != nodeGroup %}
            {% set limit = nodeGroup - 1 %}
            {% for i in offset..limit %}
                {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            {% endfor %}
        {% endif %}

        {% set offset = nodeGroup %}
        {% include '/element/themes/theme_element.html.twig' with {"node": node, "squareSize": squareSize} %}

        {% if 18 == offset %}
            {% set offset = 0 %}
            <div style="display:inline-block;float:none;clear:both;margin:none;width:0;height:0;"></div>
        {% endif %}

    {% endfor %}
    </div>
    <br><br>
    {% set tableHeight = [(square * 2) + 3,"px"]|join %}
    <div style="min-width={{tableWidth}}; width={{tableWidth}}; height:{{tableHeight}}; border: none;">
    {% for i in 1..3 %}
        {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
    {% endfor %}
    {% for node in allNodes if not node.containsKey('Group') %}
        {% include '/element/themes/theme_element.html.twig' with {"node": node, "squareSize": squareSize} %}
        {% set name = node.get('Element') %}
        {# Lutetium is the last Lanthanide in Period 6 #}
        {% if name == 'Lutetium' %}
            {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            <div style="display:inline-block;float:none;clear:both;margin:none;"></div>
            {% for i in 1..3 %}
                {% include '/element/themes/theme_element_blank.html.twig' with {"squareSize": squareSize} %}
            {% endfor %}
        {% endif %}
    {% endfor %}
    </div>
</div>
{% endblock %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('build/element.css') }}">
{% endblock %}